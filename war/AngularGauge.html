<!doctype html>
<!-- The DOCTYPE declaration above will set the     -->
<!-- browser's rendering engine into                -->
<!-- "Standards Mode". Replacing this declaration   -->
<!-- with a "Quirks Mode" doctype is not supported. -->

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<!--                                                               -->
<!-- Consider inlining CSS to reduce the number of requested files -->
<!--                                                               -->
<link type="text/css" rel="stylesheet" href="GWTAMChart.css">

<!--                                           -->
<!-- Any title is fine                         -->
<!--                                           -->
<title>AMCharts</title>
<script type="text/javascript" src="js/amcharts/amcharts.js"></script>
<script type="text/javascript" src="js/amcharts/funnel.js"></script>
<script type="text/javascript" src="js/amcharts/gauge.js"></script>
<script type="text/javascript" src="js/amcharts/pie.js"></script>
<script type="text/javascript" src="js/amcharts/radar.js"></script>
<script type="text/javascript" src="js/amcharts/serial.js"></script>
<script type="text/javascript" src="js/amcharts/xy.js"></script>
<script type="text/javascript" src="js/amcharts/themes/light.js"></script>
<script type="text/javascript" src="js/amcharts/exporting/amexport.js"></script>
<script type="text/javascript" src="js/amcharts/exporting/rgbcolor.js"></script>
<script type="text/javascript" src="js/amcharts/exporting/canvg.js"></script>
<script type="text/javascript" src="js/amcharts/exporting/filesaver.js"></script>
<script type="text/javascript" src="js/amcharts/exporting/jspdf.js"></script>
<script type="text/javascript"
	src="js/amcharts/exporting/jspdf.plugin.addimage.js"></script>
<!--                                           -->
<!-- This script loads your compiled module.   -->
<!-- If you add any GWT meta tags, they must   -->
<!-- be added before this line.                -->
<!--                                           -->
<script type="text/javascript">
var gaugeChart = AmCharts.makeChart("chartdiv", {
    "type": "gauge",
	"theme": "none",
    "axes": [{
        "axisThickness":1,
         "axisAlpha":0.2,
         "tickAlpha":0.2,
         "valueInterval":20,
        "bands": [{
            "color": "#84b761",
            "endValue": 90,
            "startValue": 0
        }, {
            "color": "#fdd400",
            "endValue": 130,
            "startValue": 90
        }, {
            "color": "#cc4748",
            "endValue": 220,
            "innerRadius": "95%",
            "startValue": 130
        }],
        "bottomText": "0 km/h",
        "bottomTextYOffset": -20,
        "endValue": 220
    }],
    "arrows": [{}]
});
console.log(gaugeChart.axes[0].bands)
console.log(gaugeChart.axes[0]);
console.log(gaugeChart);
setInterval(randomValue, 2000);

 // set random value
function randomValue() {
    var value = Math.round(Math.random() * 200);
  if(gaugeChart){
    if(gaugeChart.arrows){
      if(gaugeChart.arrows[0]){
        if(gaugeChart.arrows[0].setValue){
          gaugeChart.arrows[0].setValue(value);
          gaugeChart.axes[0].setBottomText(value + " km/h");
        }
      }
    }
  }
}
</script>

<!--                                           -->
<!-- The body can have arbitrary html, or      -->
<!-- you can leave the body empty if you want  -->
<!-- to create a completely dynamic UI.        -->
<!--                                           -->
<body>

	<!-- OPTIONAL: include this if you want history support -->
	<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
		style="position: absolute; width: 0; height: 0; border: 0"></iframe>

	<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
	<noscript>
		<div
			style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
			Your web browser must have JavaScript enabled in order for this
			application to display correctly.</div>
	</noscript>
	<div id="chartdiv" style="width: 100%; height: 500px"></div>
</body>
</html>